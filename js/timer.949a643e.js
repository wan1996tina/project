(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["timer"],{"69a5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"info",attrs:{id:"timer"}},[s("b-container",{staticClass:"p-0 m-0",staticStyle:{width:"100%"},attrs:{fluid:""}},[s("h1",{staticClass:"timer-title"},[t._v(t._s(t.currentText))]),s("div",{staticClass:"d-flex justify-content-center",attrs:{id:"clock"}},[s("div",{staticClass:"clockBg"},[s("b-col",{staticClass:"numBg",attrs:{cols:"4"}},[s("h1",[t._v(t._s(t.time_min))])]),s("div",{staticClass:"mx-5"},[s("div",{staticClass:"dot"}),s("div",{staticClass:"dot"})]),s("b-col",{staticClass:"numBg",attrs:{cols:"4"}},[s("h1",[t._v(t._s(t.time_sec))])]),s("b-row",{staticClass:"timer-tools align-items-center flex-column"},[s("div",[s("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"m-3",attrs:{to:""}},[s("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)],1),s("div",[s("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"m-3",attrs:{to:""}},[s("font-awesome-icon",{attrs:{icon:["fas","cog"]}})],1)],1),s("div",[s("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"m-3",attrs:{to:"/list"}},[s("font-awesome-icon",{attrs:{icon:["fas","list-ul"]}})],1)],1)])],1)]),s("br"),s("div",{staticClass:"d-flex flex-row"},[1!=t.status?s("b-btn",{staticClass:"mx-1",staticStyle:{"z-index":"2"},attrs:{variant:"outline-dark",size:"lg"},on:{click:t.start}},[s("font-awesome-icon",{attrs:{icon:["fas","play"]}})],1):t._e(),1==t.status?s("b-btn",{staticClass:"mx-1",staticStyle:{"z-index":"2"},attrs:{variant:"outline-dark",size:"lg"},on:{click:t.pause}},[s("font-awesome-icon",{attrs:{icon:["fas","pause"]}})],1):t._e(),t.todos.length>1?s("b-btn",{staticClass:"mx-1",staticStyle:{"z-index":"2"},attrs:{variant:"outline-dark",size:"lg"},on:{click:function(e){return t.finish(!0)}}},[s("font-awesome-icon",{attrs:{icon:["fas","step-forward"]}})],1):t._e()],1),s("div",[s("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"",right:""}},[s("div",{staticClass:"add-item-block px-3 py-2"},[s("div",{staticClass:"d-flex"},[s("b-button",{staticClass:"mr-2 btn-addTimer",attrs:{variant:"info"}},[s("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1),s("b-form-input",{attrs:{placeholder:"Add a new timer..."},model:{value:t.newTimerName,callback:function(e){t.newTimerName=e},expression:"newTimerName"}})],1),s("div",{staticClass:"d-flex flex-column"},[s("h5",[t._v("計時步驟")]),s("b-row",{staticClass:"p-3"},[s("b-col",{staticClass:"p-0",attrs:{cols:"10"}},[s("b-form-select",{attrs:{options:t.seconds},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),s("b-col",{attrs:{cols:"2"}},[s("b-button",{attrs:{variant:"light"},on:{click:t.addSec}},[s("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1)],1)],1),s("div",{staticClass:"new-steps"},t._l(t.workoutStep,(function(e,i){return s("div",{staticClass:"step"},[t._v(t._s(e)),s("div",{staticClass:"next-icon"},[s("font-awesome-icon",{attrs:{icon:["fas","angle-right"]}})],1)])})),0)],1),s("div",{staticClass:"d-flex align-items-center"},[s("b-col",{staticClass:"p-0",attrs:{cols:"4"}},[s("h5",[t._v("循環次數")])]),s("b-col",{staticClass:"p-0",attrs:{cols:"6"}},[s("b-form-select",{attrs:{options:t.times},model:{value:t.selectedTimes,callback:function(e){t.selectedTimes=e},expression:"selectedTimes"}})],1),s("b-col",{attrs:{cols:"2"}},[t._v("次")])],1),s("b-row",{staticClass:"justify-content-around"},[s("b-button",{attrs:{variant:"danger"},on:{click:t.resetTimer}},[t._v("重設計時器")]),s("b-button",{attrs:{variant:"success"},on:{click:t.addNewTimer}},[t._v("新增到清單")]),t.user.length>0?s("b-button",{attrs:{variant:"warning"},on:{click:t.updateData}},[t._v("儲存到常用")]):t._e()],1)],1),s("div",{staticClass:"list-item-block px-3 py-2 my-3"},[s("h5",{staticClass:"my-2"},[t._v("Next . . .")]),t._l(t.todos,(function(e){return s("b-col",{staticClass:"t-list mx-auto"},[t._v(t._s(e.name))])}))],2)])],1)])],1)},r=[],a=(s("99af"),{data:function(){return{selected:null,seconds:[{value:null,text:"選擇秒數"},{value:[5,"5秒"],text:"5秒"},{value:[10,"10秒"],text:"10秒"},{value:[15,"15秒"],text:"15秒"},{value:[20,"20秒"],text:"20秒"},{value:[25,"25秒"],text:"25秒"},{value:[30,"30秒"],text:"30秒"},{value:[45,"45秒"],text:"45秒"},{value:[60,"1分鐘"],text:"1分鐘"},{value:[120,"2分鐘"],text:"2分鐘"}],selectedTimes:null,times:[{value:null,text:"選擇次數"},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],status:0,timer:0,vepData:{size:300,line:"butt",thickness:20,emptyThickness:20,color:"#FAA273",fontcolor:"#000000",fontSize:"60px",gradient:{radial:!1,colors:[{color:"#f12711",offset:0,opacity:1},{color:"#f5af19",offset:100,opacity:1}]},animation:"default 200 200"}}},computed:{currentText:function(){return this.current.length>0?this.current:this.todos.length>0?"開始鍛鍊":"目前沒有事項"},timetext:function(){var t=Math.floor(this.timeleft/60),e=Math.floor(this.timeleft%60);return t/10<=0&&(t="0"+t),e/10<0&&(e="0"+e),"".concat(t,":").concat(e)},time_min:function(){var t=Math.floor(this.timeleft/60);return t/10<1&&(t="0"+t),t},time_sec:function(){var t=Math.floor(this.timeleft%60);return t/10<1&&(t="0"+t),t},alarm:function(){return this.$store.getters.alarm},timeleft:function(){return this.$store.getters.timeleft},current:function(){return this.$store.getters.current},todos:function(){return this.$store.getters.todos},progressNow:function(){return this.$store.getters.progressNow},user:function(){return this.$store.getters.user},workoutStep:function(){return this.$store.getters.workoutStep},workoutStepNum:function(){return this.$store.getters.workoutStepNum},newTimerName:{get:function(){return this.$store.getters.newTimerName},set:function(t){this.$store.commit("setNewTimerName",t)}}},methods:{start:function(){var t=this;if(2===this.status){this.status=1;var e=100/this.timeleft;this.timer=setInterval((function(){t.$store.commit("countdown",e),t.timeleft<=0&&(t.finish(!1),t.$store.commit("reset"))}),1e3)}else if(this.todos.length>0){this.$store.commit("start"),this.status=1;var s=100/this.timeleft;this.timer=setInterval((function(){t.$store.commit("countdown",s),t.timeleft<=0&&(t.finish(!1),t.$store.commit("reset"))}),1e3)}},finish:function(t){if(clearInterval(this.timer),this.status=0,this.$store.commit("finish"),!t){var e=new Audio;e.src="./alarms/"+this.alarm,e.play()}this.todos.length>0?this.start():alert("鍛鍊結束")},pause:function(){clearInterval(this.timer),this.status=2},addSec:function(){null===this.selected?alert("請選擇秒數"):(this.$store.commit("addSec",this.selected[1]),this.$store.commit("addSecNum",this.selected[0]),this.selected=null)},resetTimer:function(){this.newTimerName="",this.$store.commit("clearSec"),this.selectedTimes=null,this.selected=null},addNewTimer:function(){var t=this.selectedTimes,e=this.$store.getters.workoutStepNum,s={name:this.$store.getters.newTimerName,steps:[]};if(0===this.$store.getters.newTimerName.length)alert("請輸入計時器名稱");else if(null===e)alert("請選擇秒數");else if(null===t)alert("請選擇次數");else{for(var i=0;i<t;i++)for(var r=0;r<e.length;r++)s.steps.push(e[r]);this.$store.commit("addTodo",s),this.newTimerName="",this.$store.commit("clearSec"),this.selectedTimes=null,this.selected=null}},saveTimer:function(){var t=this.selectedTimes,e=this.$store.getters.workoutStepNum,s={name:this.$store.getters.newTimerName,steps:[]};if(0===this.$store.getters.newTimerName.length)alert("請輸入計時器名稱");else if(null===e)alert("請選擇秒數");else if(null===t)alert("請選擇次數");else{for(var i=0;i<t;i++)for(var r=0;r<e.length;r++)s.steps.push(e[r]);this.$store.commit("addList",s),this.newTimerName="",this.$store.commit("clearSec"),this.selectedTimes=null,this.selected=null}},updateData:function(){this.saveTimer();var t=this.$store.getters.user,e=this.$store.getters.timerList;console.log(e),this.axios.patch("https://workout6464.herokuapp.com/save_timer/"+t,{timerList:e}).then((function(t){alert("已更新")})).catch((function(){alert("發生錯誤")}))}}}),o=a,n=s("2877"),l=Object(n["a"])(o,i,r,!1,null,null,null);e["default"]=l.exports},"99af":function(t,e,s){"use strict";var i=s("23e7"),r=s("d039"),a=s("e8b5"),o=s("861d"),n=s("7b0b"),l=s("50c4"),c=s("8418"),u=s("65f0"),m=s("1dde"),d=s("b622"),f=s("2d00"),h=d("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",b=f>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=m("concat"),w=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},x=!b||!g;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,s,i,r,a,o=n(this),m=u(o,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],w(a)){if(r=l(a.length),d+r>v)throw TypeError(p);for(s=0;s<r;s++,d++)s in a&&c(m,d,a[s])}else{if(d>=v)throw TypeError(p);c(m,d++,a)}return m.length=d,m}})}}]);
//# sourceMappingURL=timer.949a643e.js.map